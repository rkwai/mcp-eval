{
  "id": "support_offer_assignment",
  "description": "Agent assigns an offer to a customer and confirms it is available for use.",
  "conversation": [
    {
      "role": "user",
      "content": "Marcus Lee is asking if we can give him anything to make up for a rough week. Assign him a promo and confirm it's visible on his account."
    },
    {
      "role": "user",
      "content": "Marcus Lee needs a goodwill perk. Pick an available offer for him and make sure it shows up under his account."
    },
    {
      "role": "user",
      "content": "Hook Marcus Lee up with whatever loyalty promo we can offer today and verify it attaches to his profile."
    }
  ],
  "steps": [
    {
      "label": "Agent: Assign promo to Marcus",
      "tool": "offers.assign",
      "arguments": {
        "email": "marcus.lee@example.com"
      },
      "expect": {
        "status": "success",
        "assert": [
          {
            "path": "customerOffer.offerId",
            "exists": true
          },
          {
            "path": "customerOffer.status",
            "equals": "available"
          },
          {
            "path": "customer.email",
            "equals": "marcus.lee@example.com"
          },
          {
            "path": "customerOffer.customerId",
            "equals": "cust-marcus"
          }
        ]
      }
    }
  ]
}
