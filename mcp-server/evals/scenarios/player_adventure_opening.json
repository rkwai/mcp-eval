{
  "id": "player_adventure_opening",
  "description": "Simulates a player starting an adventure and taking an initial action with the MCP responding via session tools.",
  "preconditions": {
    "apiBaseUrl": "http://localhost:4000",
    "assumptions": [
      "The API service boots with seeded campaign data.",
      "Player identifier `ember-heart` is available on the roster."
    ]
  },
  "steps": [
    {
      "label": "Player: Let's begin our adventure.",
      "tool": "session.startAdventure",
      "arguments": {
        "playerId": "ember-heart"
      },
      "capture": {
        "activeQuestId": "startingQuest.id",
        "startingLocation": "startingQuest.primaryLocation"
      },
      "expect": {
        "status": "success",
        "assert": [
          { "path": "world.setting.name", "exists": true },
          { "path": "startingQuest.status", "equals": "active" },
          { "path": "player.id", "equals": "ember-heart" },
          { "path": "startingLocation", "exists": true }
        ]
      }
    },
    {
      "label": "Player action: Scout the surroundings.",
      "tool": "session.progressAdventure",
      "arguments": {
        "playerId": "ember-heart",
        "action": "scout the starting location for threats"
      },
      "expect": {
        "status": "success",
        "assert": [
          { "path": "quest.status", "equals": "completed" },
          { "path": "resolutionNote", "contains": "scout the starting location for threats" },
          { "path": "supportingNpcs", "minLength": 1 },
          { "path": "nextQuestBoard.available", "minLength": 1 }
        ]
      }
    }
  ]
}
