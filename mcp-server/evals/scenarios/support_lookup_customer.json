{
  "id": "support_lookup_customer",
  "description": "Agent looks up a customer by email and reviews recent activity.",
  "conversation": [
    {
      "role": "user",
      "content": "Alicia Patel wants a balance check. Pull her profile and give me the recent ledger entries so I can walk her through them."
    }
  ],
  "steps": [
    {
      "label": "Agent: Snapshot Alicia Patel",
      "tool": "customer.snapshot",
      "arguments": {
        "email": "alicia.patel@example.com",
        "historyLimit": 5
      },
      "expect": {
        "status": "success",
        "assert": [
          {
            "path": "customer.email",
            "equals": "alicia.patel@example.com"
          },
          {
            "path": "history",
            "minLength": 1
          },
          {
            "path": "summary.totals",
            "exists": true
          }
        ]
      }
    }
  ]
}